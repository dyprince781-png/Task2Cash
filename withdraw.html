<script>
  let balance = parseFloat(localStorage.getItem("balance")) || 0;
  document.getElementById("withdrawBalance").textContent = "$" + balance.toFixed(2);

  function withdraw() {
    let amount = parseFloat(document.getElementById("amount").value);
    if (isNaN(amount) || amount <= 0) {
      alert("Enter a valid amount.");
      return;
    }
    if (amount > balance) {
      alert("Insufficient balance!");
      return;
    }
    balance -= amount;
    localStorage.setItem("balance", balance);

    // Record withdrawal in transactions
    let transactions = JSON.parse(localStorage.getItem("transactions")) || [];
    transactions.push({
      date: new Date().toLocaleString(),
      type: "Withdrawal",
      amount: "-$" + amount.toFixed(2)
    });
    localStorage.setItem("transactions", JSON.stringify(transactions));

    document.getElementById("withdrawBalance").textContent = "$" + balance.toFixed(2);
    alert("Withdrawal request submitted for $" + amount.toFixed(2));
  }
      </script>
